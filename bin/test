#!/usr/bin/env bash

set -e

cd "$(dirname "${BASH_SOURCE[0]}")/.."
source ./bin/utils/functions.sh

header "Compiling..."
mix compile --warnings-as-errors --force

header "Checking format..."
mix format --check-formatted

header "Checking credo..."
mix credo --strict

header "Running backend tests..."
mix test

header "Running frontend tests..."
yarn test

success "Testing complete."